{"version":3,"file":"maplibre-gl-indoorequal.cjs.js","sources":["../src/levels.js","../src/level_control.js","../src/layers.js","../src/image.js","../src/sprite.js","../src/index.js"],"sourcesContent":["export default function findAllLevels(features) {\n  const levels = [];\n  for (let i = 0; i < features.length; i++) {\n    const feature = features[i];\n    if (feature.properties.class === 'level') {\n      continue;\n    }\n    const level = feature.properties.level;\n    if (!levels.includes(level)) {\n      levels.push(level);\n    }\n  }\n  return levels.sort((a, b) => a - b).reverse();\n}\n","export default class LevelControl {\n  constructor(indoorequal) {\n    this.indoorequal = indoorequal;\n    this._cbRefresh = () => this._refresh();\n    this.indoorequal.on('levelschange', this._cbRefresh);\n    this.indoorequal.on('levelchange', this._cbRefresh);\n\n    this.$el = document.createElement('div');\n    this.$el.classList.add('maplibregl-ctrl', 'maplibregl-ctrl-group', 'maplibregl-ctrl-indoorequal');\n    this._refresh();\n  }\n\n  destroy() {\n    this.$el.remove();\n    this.indoorequal.off('levelschange', this._cbRefresh);\n    this.indoorequal.off('levelchange', this._cbRefresh);\n  }\n\n  _refresh() {\n    this.$el.innerHTML = '';\n    this.indoorequal.levels.forEach((level) => {\n      const button = document.createElement('button');\n      const strong = document.createElement('strong');\n      strong.textContent = level;\n      button.appendChild(strong);\n      if (level == this.indoorequal.level) {\n        button.classList.add('maplibregl-ctrl-active');\n      }\n      button.addEventListener('click', () => {  this.indoorequal.setLevel(level); })\n      this.$el.appendChild(button);\n    });\n  }\n}\n","const commonPoi = {\n  \"type\": \"symbol\",\n  \"source-layer\": \"poi\",\n  \"layout\": {\n    \"icon-image\": [\n      \"coalesce\",\n      [\n        \"image\",\n        [\n          \"concat\",\n          [\n            \"literal\",\n            \"indoorequal-\"\n          ],\n          [\n            \"get\",\n            \"subclass\"\n          ]\n        ],\n      ],\n      [\n        \"image\",\n        [\n          \"concat\",\n          [\n            \"literal\",\n            \"indoorequal-\"\n          ],\n          [\n            \"get\",\n            \"class\"\n          ]\n        ]\n      ]\n    ],\n    \"text-anchor\": \"top\",\n    \"text-field\": [\n      \"case\",\n      // aeroway=gate\n      [\"==\", [\"get\", \"class\"], \"aeroway\"],\n      [\"get\", \"ref\"],\n      // default\n      [\"concat\",\n       [\"get\", \"name:latin\"],\n       \"\\n\",\n       [\"get\", \"name:nonlatin\"]\n      ],\n    ],\n    \"text-max-width\": 9,\n    \"text-offset\": [\n      0,\n      0.6\n    ],\n    \"text-padding\": 2,\n    \"text-size\": 12\n  },\n  \"paint\": {\n    \"text-color\": \"#666\",\n    \"text-halo-blur\": 0.5,\n    \"text-halo-color\": \"#ffffff\",\n    \"text-halo-width\": 1\n  }\n};\n\nconst rank2Class = [\"waste_basket\", \"information\", \"vending_machine\", \"bench\", \"photo_booth\", \"ticket_validator\"];\n\nexport const layers = [\n  {\n    id: \"indoor-polygon\",\n    type: \"fill\",\n    \"source-layer\": \"area\",\n    filter: [\n      \"all\",\n      [\n        \"==\",\n        \"$type\",\n        \"Polygon\"\n      ],\n      [\n        \"!=\",\n        \"class\",\n        \"level\"\n      ]\n    ],\n    paint: {\n      \"fill-color\": [\n        \"case\",\n        // if private\n        [\"all\", [\"has\", \"access\"], [\"in\", [\"get\", \"access\"], [\"literal\", [\"no\", \"private\"]]]],\n        \"#F2F1F0\",\n        // if POI\n        [\"any\",\n         [\"all\", [\"==\", [\"get\", \"is_poi\"], true], [\"!=\", [\"get\", \"class\"], \"corridor\"]],\n         [\n           \"in\",\n           [\"get\", \"subclass\"],\n           [\"literal\", [\"class\", \"laboratory\", \"office\", \"auditorium\", \"amphitheatre\", \"reception\"]]]\n        ],\n        \"#D4EDFF\",\n        // if is a room\n        [\"==\", [\"get\", \"class\"], \"room\"],\n        \"#fefee2\",\n        // default\n        \"#fdfcfa\"\n      ]\n    }\n  },\n  {\n    id: \"indoor-area\",\n    \"type\": \"line\",\n    \"source-layer\": \"area\",\n    \"filter\": [\n      \"all\",\n      [\n        \"in\",\n        \"class\",\n        \"area\",\n        \"corridor\",\n        \"platform\"\n      ]\n    ],\n    \"paint\": {\n      \"line-color\": \"#bfbfbf\",\n      \"line-width\": 1\n    }\n  },\n  {\n    id: \"indoor-column\",\n    \"type\": \"fill\",\n    \"source-layer\": \"area\",\n    \"filter\": [\n      \"all\",\n      [\n        \"==\",\n        \"class\",\n        \"column\"\n      ]\n    ],\n    \"paint\": {\n      \"fill-color\": \"#bfbfbf\"\n    }\n  },\n  {\n    id: \"indoor-lines\",\n    \"type\": \"line\",\n    \"source-layer\": \"area\",\n    \"filter\": [\n      \"all\",\n      [\n        \"in\",\n        \"class\",\n        \"room\",\n        \"wall\"\n      ]\n    ],\n    \"paint\": {\n      \"line-color\": \"gray\",\n      \"line-width\": 2\n    }\n  },\n  {\n    id: \"indoor-transportation\",\n    \"type\": \"line\",\n    \"source-layer\": \"transportation\",\n    \"filter\": [\n      \"all\"\n    ],\n    \"paint\": {\n      \"line-color\": \"gray\",\n      \"line-dasharray\": [\n        0.4,\n        0.75\n      ],\n      \"line-width\": {\n        \"base\": 1.4,\n        \"stops\": [\n          [\n            17,\n            2\n          ],\n          [\n            20,\n            10\n          ]\n        ]\n      }\n    }\n  },\n  {\n    id: \"indoor-transportation-poi\",\n    \"type\": \"symbol\",\n    \"source-layer\": \"transportation\",\n    \"filter\": [\n      \"all\",\n      [\n        \"in\",\n        \"$type\",\n        \"Point\",\n        \"LineString\"\n      ],\n      [\n        \"in\",\n        \"class\",\n        \"steps\",\n        \"elevator\",\n        \"escalator\"\n      ]\n    ],\n    \"layout\": {\n      \"icon-image\": [\n        \"case\",\n        [\n          \"has\",\n          \"conveying\"\n        ],\n        \"indoorequal-escalator\",\n        [\n          \"concat\",\n          [\n            \"literal\",\n            \"indoorequal-\"\n          ],\n          [\n            \"get\",\n            \"class\"\n          ]\n        ]\n      ],\n      \"symbol-placement\": \"line-center\",\n      \"icon-rotation-alignment\": \"viewport\"\n    }\n  },\n  {\n    id: \"indoor-poi-rank1\",\n    ...commonPoi,\n    \"filter\": [\n      \"all\",\n      [\n        \"==\",\n        \"$type\",\n        \"Point\"\n      ],\n      [\n        \"!in\",\n        \"class\",\n        ...rank2Class\n      ]\n    ]\n  },\n  {\n    id: \"indoor-poi-rank2\",\n    ...commonPoi,\n    minzoom: 19,\n    \"filter\": [\n      \"all\",\n      [\n        \"==\",\n        \"$type\",\n        \"Point\"\n      ],\n      [\n        \"in\",\n        \"class\",\n        ...rank2Class\n      ]\n    ]\n  },\n  {\n    id: \"indoor-heat\",\n    \"type\": \"heatmap\",\n    \"source-layer\": \"heat\",\n    \"filter\": [ \"all\" ],\n    \"paint\": {\n      \"heatmap-color\": [\"interpolate\", [\"linear\"], [\"heatmap-density\"],\n        0, \"rgba(102, 103, 173, 0)\",\n        0.1, \"rgba(102, 103, 173, 0.2)\",\n        1, \"rgba(102, 103, 173, 0.7)\"\n      ],\n      \"heatmap-radius\": [\n        \"interpolate\", [\"linear\"], [\"zoom\"],\n        0, 3,\n        13, 20,\n        17, 40\n      ],\n      \"heatmap-intensity\": 1,\n      \"heatmap-opacity\": [\n        \"interpolate\", [\"linear\"], [\"zoom\"],\n        16, 1,\n        17.1, 0\n      ]\n    }\n  },\n  {\n    id: \"indoor-name\",\n    \"type\": \"symbol\",\n    \"source-layer\": \"area_name\",\n    \"filter\": [\n      \"all\"\n    ],\n    \"layout\": {\n      \"text-field\": [\n        \"concat\",\n        [\"coalesce\",\n         [\"get\", \"name:latin\"],\n         [\"get\", \"ref\"],\n        ],\n        \"\\n\",\n        [\"get\", \"name:nonlatin\"],\n      ],\n      \"text-max-width\": 5,\n      \"text-size\": 14\n    },\n    \"paint\": {\n      \"text-color\": \"#666\",\n      \"text-halo-color\": \"#ffffff\",\n      \"text-halo-width\": 1\n    }\n  }\n];\n","function createImage(image, {width, height}, channels, data) {\n    if (!data) {\n        data = new Uint8Array(width * height * channels);\n    } else if (data instanceof Uint8ClampedArray) {\n        data = new Uint8Array(data.buffer);\n    } else if (data.length !== width * height * channels) {\n        throw new RangeError('mismatched image size');\n    }\n    image.width = width;\n    image.height = height;\n    image.data = data;\n    return image;\n}\n\nfunction resizeImage(image, {width, height}, channels) {\n    if (width === image.width && height === image.height) {\n        return;\n    }\n\n    const newImage = createImage({}, {width, height}, channels);\n\n    copyImage(image, newImage, {x: 0, y: 0}, {x: 0, y: 0}, {\n        width: Math.min(image.width, width),\n        height: Math.min(image.height, height)\n    }, channels);\n\n    image.width = width;\n    image.height = height;\n    image.data = newImage.data;\n}\n\nfunction copyImage(srcImg, dstImg, srcPt, dstPt, size, channels) {\n    if (size.width === 0 || size.height === 0) {\n        return dstImg;\n    }\n\n    if (size.width > srcImg.width ||\n        size.height > srcImg.height ||\n        srcPt.x > srcImg.width - size.width ||\n        srcPt.y > srcImg.height - size.height) {\n        throw new RangeError('out of range source coordinates for image copy');\n    }\n\n    if (size.width > dstImg.width ||\n        size.height > dstImg.height ||\n        dstPt.x > dstImg.width - size.width ||\n        dstPt.y > dstImg.height - size.height) {\n        throw new RangeError('out of range destination coordinates for image copy');\n    }\n\n    const srcData = srcImg.data;\n    const dstData = dstImg.data;\n\n    for (let y = 0; y < size.height; y++) {\n        const srcOffset = ((srcPt.y + y) * srcImg.width + srcPt.x) * channels;\n        const dstOffset = ((dstPt.y + y) * dstImg.width + dstPt.x) * channels;\n        for (let i = 0; i < size.width * channels; i++) {\n            dstData[dstOffset + i] = srcData[srcOffset + i];\n        }\n    }\n    return dstImg;\n}\n\n// Not premultiplied, because ImageData is not premultiplied.\n// UNPACK_PREMULTIPLY_ALPHA_WEBGL must be used when uploading to a texture.\nexport class RGBAImage {\n    constructor(size, data) {\n        createImage(this, size, 4, data);\n    }\n\n    resize(size) {\n        resizeImage(this, size, 4);\n    }\n\n    replace(data, copy) {\n        if (copy) {\n            this.data.set(data);\n        } else if (data instanceof Uint8ClampedArray) {\n            this.data = new Uint8Array(data.buffer);\n        } else {\n            this.data = data;\n        }\n    }\n\n    clone() {\n        return new RGBAImage({width: this.width, height: this.height}, new Uint8Array(this.data));\n    }\n\n    static copy(srcImg, dstImg, srcPt, dstPt, size) {\n        copyImage(srcImg, dstImg, srcPt, dstPt, size, 4);\n    }\n}\n","import {RGBAImage} from './image';\n\nfunction getImageData(img, padding) {\n  const canvas = window.document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  if (!context) {\n    throw new Error('failed to create canvas 2d context');\n  }\n  canvas.width = img.width;\n  canvas.height = img.height;\n  context.drawImage(img, 0, 0, img.width, img.height);\n  return context.getImageData(0, 0, img.width, img.height);\n}\n\nexport default function(baseUrl) {\n  const format = window.devicePixelRatio > 1 ? '@2x' : '';\n  let json, image;\n\n  const jsonRequest = fetch(`${baseUrl}${format}.json`)\n        .then(r => r.json())\n        .then(r => json = r)\n\n  const imageRequest = fetch(`${baseUrl}${format}.png`)\n        .then(r => r.blob())\n        .then(r => {\n          image = new Image();\n          image.src = URL.createObjectURL(r);\n          return new Promise((resolve, reject) => {\n            image.onload = () => resolve();\n            image.onerror = () => reject();\n          });\n        });\n\n  return Promise.all([jsonRequest, imageRequest])\n    .then(() => {\n      const imageData = getImageData(image);\n      const result = {};\n\n      for (const id in json) {\n        const {width, height, x, y, sdf, pixelRatio, stretchX, stretchY, content} = json[id];\n        const data = new RGBAImage({width, height});\n        RGBAImage.copy(imageData, data, {x, y}, {x: 0, y: 0}, {width, height});\n        result[id] = {data, pixelRatio, sdf, stretchX, stretchY, content};\n      }\n      return result;\n    });\n}\n","import debounce from 'debounce';\nimport arrayEqual from 'array-equal';\nimport findAllLevels from './levels';\nimport LevelControl from './level_control';\nimport { layers } from './layers';\nimport loadSprite from './sprite';\n\nclass GeoJSONSource {\n  constructor(map, options = {}) {\n    const defaultOpts = { layers, geojson: {} };\n    const opts = { ...defaultOpts, ...options };\n    this.map = map;\n    this.geojson = opts.geojson;\n    this.layers = opts.layers;\n    this.baseSourceId = 'indoorequal';\n    this.sourceId = `${this.baseSourceId}_area`;\n  }\n\n  addSource() {\n    Object.keys(this.geojson).forEach((layerName) => {\n      this.map.addSource(`${this.baseSourceId}_${layerName}`, {\n        type: 'geojson',\n        data: this.geojson[layerName]\n      });\n    });\n  }\n\n  addLayers() {\n    const sourceLayers = Object.keys(this.geojson);\n    const layers = this.layers;\n    this.layers = layers.filter((layer) => {\n      return sourceLayers.includes(layer['source-layer']);\n    });\n    this.layers.forEach((layer) => {\n      this.map.addLayer({\n        source: `${this.baseSourceId}_${layer['source-layer']}`,\n        ...layer,\n        'source-layer': ''\n      });\n    });\n  }\n\n  remove() {\n    this.layers.forEach((layer) => {\n      this.map.removeLayer(layer.id);\n    });\n    Object.keys(this.geojson).forEach((layerName) => {\n      this.map.removeSource(`${this.baseSourceId}_${layerName}`);\n    });\n  }\n}\n\nclass VectorTileSource {\n  constructor(map, options = {}) {\n    const defaultOpts = { url: 'https://tiles.indoorequal.org/', layers };\n    const opts = { ...defaultOpts, ...options };\n    if (opts.url === defaultOpts.url && !opts.apiKey) {\n      throw 'You must register your apiKey at https://indoorequal.com before and set it as apiKey param.';\n    }\n    this.map = map;\n    this.url = opts.url;\n    this.apiKey = opts.apiKey;\n    this.layers = opts.layers;\n    this.sourceId = 'indoorequal';\n  }\n\n  addSource() {\n    const queryParams = this.apiKey ? `?key=${this.apiKey}` : '';\n    this.map.addSource(this.sourceId, {\n      type: 'vector',\n      url: `${this.url}${queryParams}`\n    });\n  }\n\n  addLayers() {\n    this.layers.forEach((layer) => {\n      this.map.addLayer({\n        source: this.sourceId,\n        ...layer\n      });\n    });\n  }\n\n  remove() {\n    this.layers.forEach((layer) => {\n      this.map.removeLayer(layer.id);\n    });\n    this.map.removeSource(this.sourceId);\n  }\n}\n\n/**\n * Load the indoor= source and layers in your map.\n * @param {object} map the maplibre-gl instance of the map\n * @param {object} options\n * @param {string} [options.url] Override the default tiles URL (https://tiles.indoorequal.org/).\n * @param {object} [options.geojson] GeoJSON data with with key as layer name and value with geojson features\n * @param {string} [options.apiKey] The API key if you use the default tile URL (get your free key at [indoorequal.com](https://indoorequal.com)).\n * @param {array} [options.layers] The layers to be used to style indoor= tiles. Take a look a the [layers.js file](https://github.com/indoorequal/maplibre-gl-indoorequal/blob/master/src/layers.js) file and the [vector schema](https://indoorequal.com/schema)\n * @param {boolean} [options.heatmap] Should the heatmap layer be visible at start (true : visible, false : hidden). Defaults to true/visible.\n * @property {string} level The current level displayed\n * @property {array} levels  The levels that can be displayed in the current view\n * @fires IndoorEqual#levelschange\n * @fires IndoorEqual#levelchange\n * @return {IndoorEqual} `this`\n */\nexport default class IndoorEqual {\n  constructor(map, options = {}) {\n    const SourceKlass = options.geojson ? GeoJSONSource : VectorTileSource;\n    const defaultOpts = { heatmap: true };\n    const opts = { ...defaultOpts, ...options };\n    this.source = new SourceKlass(map, options);\n    this.map = map;\n    this.levels = [];\n    this.level = '0';\n    this.events = {};\n\n    if (this.map.isStyleLoaded()) {\n      this._init();\n      this.setHeatmapVisible(opts.heatmap);\n    } else {\n      this.map.once('load', () => {\n        this._init();\n        this.setHeatmapVisible(opts.heatmap);\n      });\n    }\n  }\n\n  /**\n   * Remove any layers, source and listeners and controls\n   */\n  remove(fromRemoveEvent) {\n    if (!fromRemoveEvent) {\n      this.source.remove();\n    }\n    this._updateLevelsDebounce.clear();\n    this.map.off('load', this._updateLevelsDebounce);\n    this.map.off('data', this._updateLevelsDebounce);\n    this.map.off('move', this._updateLevelsDebounce);\n    if (this._control) {\n      this.onRemove();\n    }\n  }\n\n  /**\n   * Add an event listener\n   * @param {string} name the name of the event\n   * @param {function} fn the function to be called when the event is emitted\n   */\n  on(name, fn) {\n    if (!this.events[name]) {\n      this.events[name] = [];\n    }\n    this.events[name].push(fn);\n  }\n\n  /**\n   * Remove an event listener.\n   * @param {string} name the name of the event\n   * @param {function} fn the same function when on() was called\n   */\n  off(name, fn) {\n    if (!this.events[name]) {\n      this.events[name] = [];\n    }\n    this.events[name] = this.events[name].filter(cb => cb !== fn);\n  }\n\n  /**\n   * Add the level control to the map\n   * Used when adding the control via the map instance: map.addControl(indoorEqual)\n   */\n  onAdd() {\n    this._control = new LevelControl(this);\n    return this._control.$el;\n  }\n\n  /**\n   * Remove the level control\n   * Used when removing the control via the map instance: map.removeControl(indoorEqual)\n   */\n  onRemove() {\n    this._control.destroy();\n    this._control = null;\n  }\n\n  /**\n   * Set the displayed level.\n   * @param {string} level the level to be displayed\n   * @fires IndoorEqual#levelchange\n   */\n  setLevel(level) {\n    this.level = level;\n    this._updateFilters();\n    this._emitLevelChange();\n  }\n\n  /**\n   * Set the displayed level.\n   * @deprecated Use setLevel instead\n   * @param {string} level the level to be displayed\n   * @fires IndoorEqual#levelchange\n   */\n  updateLevel(level) {\n    console.log('The updateLevel method is deprecated. Please use setLevel instead.');\n    this.setLevel(level);\n  }\n\n  /**\n   * Load a sprite and add all images to the map\n   * @param {string} baseUrl the baseUrl where to load the sprite\n   * @param {object} options\n   * @param {boolean} [options.update] Update existing image (default false)\n   * @return {Promise} It resolves an hash of images.\n   */\n  loadSprite(baseUrl, options = {}) {\n    const opts = { update: false, ...options };\n    return loadSprite(baseUrl)\n      .then((sprite) => {\n        for (const id in sprite) {\n          const { data, ...options } = sprite[id];\n          if (!this.map.hasImage(id)) {\n            this.map.addImage(id, data, options);\n          } else if (opts.update) {\n            this.map.updateImage(id, data);\n          }\n        }\n        return sprite;\n      });\n  }\n\n  /**\n   * Change the heatmap layer visibility\n   * @param {boolean} visible True to make it visible, false to hide it\n   */\n  setHeatmapVisible(visible) {\n    if (this.map.getLayer('indoor-heat')) {\n      this.map.setLayoutProperty('indoor-heat', 'visibility', visible ? 'visible' : 'none');\n    }\n  }\n\n  _init() {\n    this.source.addSource();\n    this.source.addLayers();\n    this._updateFilters();\n    this._updateLevelsDebounce = debounce(this._updateLevels.bind(this), 1000);\n\n    this.map.on('load', this._updateLevelsDebounce);\n    this.map.on('data', this._updateLevelsDebounce);\n    this.map.on('move', this._updateLevelsDebounce);\n    this.map.on('remove', () => {\n      this.remove(true);\n    });\n  }\n\n  _updateFilters() {\n    this.source.layers\n    .filter(layer => layer.type !== 'heatmap')\n    .forEach((layer) => {\n      this.map.setFilter(layer.id, [ ...layer.filter || ['all'], ['==', 'level', this.level]]);\n    });\n  }\n\n  _refreshAfterLevelsUpdate() {\n    if (!this.levels.includes(this.level)) {\n      this.setLevel('0');\n    }\n  }\n\n  _updateLevels() {\n    if (this.map.isSourceLoaded(this.source.sourceId)) {\n      const features = this.map.querySourceFeatures(this.source.sourceId, { sourceLayer: 'area' });\n      const levels = findAllLevels(features);\n      if (!arrayEqual(levels, this.levels)) {\n        this.levels = levels;\n        this._emitLevelsChange();\n        this._refreshAfterLevelsUpdate();\n      }\n    }\n  }\n\n  _emitLevelsChange() {\n    this._emitEvent('levelschange', this.levels);\n  }\n\n  _emitLevelChange() {\n    this._emitEvent('levelchange', this.level);\n  }\n\n  _emitEvent(eventName, ...args) {\n    (this.events[eventName] || []).forEach(fn => fn(...args));\n  }\n}\n\n/**\n * Emitted when the list of available levels has been updated\n *\n * @event IndoorEqual#levelschange\n * @type {array}\n */\n\n/**\n * Emitted when the current level has been updated\n *\n * @event IndoorEqual#levelchange\n * @type {string} always emitted when the level displayed has changed\n */\n"],"names":[],"mappings":"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"}